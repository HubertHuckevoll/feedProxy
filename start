#!/usr/bin/env bash

# Usage: ./start.sh [PORT]
# Default PORT is 65432 if not specified
PORT=${1:-65432}

# 1) Alten Container entfernen, falls er noch existiert
docker rm -f feedproxy 2>/dev/null || true

# 2) Neuen Container im Hintergrund starten
docker run -d \
  --name feedproxy \
  -p ${PORT}:${PORT} \
  -e PORT=${PORT} \
  feedproxy

# 3) Logs anzeigen und im Followâ€‘Modus weiter ausgeben
docker logs --tail 100 -f feedproxy
